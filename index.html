<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>g9it.com - Cybersecurity & AI Consulting</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sora', sans-serif;
            background-color: #030712;
            color: #d1d5db;
            /* New Mesh Grid Background */
            background-image: radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.04) 1px, transparent 0);
            background-size: 25px 25px;
        }
        .gradient-text {
            background-image: linear-gradient(to right, #3b82f6, #a855f7, #ec4899);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .gradient-button {
            background-image: linear-gradient(to right, #3b82f6 0%, #8b5cf6 50%, #d946ef 100%);
            transition: all 0.4s ease;
            background-size: 200% auto;
        }
        .gradient-button:hover {
            background-position: right center;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.4);
        }
        .tab-active {
            color: #eff6ff;
            background-color: transparent;
            border-image-source: linear-gradient(to right, #3b82f6, #a855f7);
            border-image-slice: 1;
        }
        .interactive-card {
            background-color: #111827;
            border: 1px solid #1f2937;
            transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
        }
        .interactive-card:hover {
            transform: translateY(-5px);
            border-color: #3b82f6;
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.1);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .accordion-content.open {
            max-height: 1000px;
        }
        .accordion-arrow {
            transition: transform 0.3s ease-in-out;
        }
        .accordion-button.open .accordion-arrow {
            transform: rotate(180deg);
        }
        .fade-in-section {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .gemini-spinner {
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid #a855f7;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .hero-section {
            background-image: url('https://images.unsplash.com/photo-1599227690338-5a028209ea94?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'), linear-gradient(rgba(3, 7, 18, 0.95), rgba(3, 7, 18, 0.95));
            background-blend-mode: multiply;
            background-size: cover;
            background-position: center;
        }
        .icon-bg {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 64px;
            height: 64px;
            margin: 0 auto 1rem auto;
            border-radius: 0.75rem;
            background-color: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            font-size: 2rem;
        }
        .category-icon {
            font-size: 1.75rem;
            margin-right: 1rem;
            color: #93c5fd;
        }
        .logo-grid img {
           /* Base style for logos */
            opacity: 0.7; /* Slightly faded */
            transition: opacity 0.3s ease-in-out;
            max-height: 40px; /* Consistent height */
            width: auto; /* Maintain aspect ratio */
            filter: grayscale(50%) brightness(1.1); /* Subtle desaturation + brightness */
        }
        .logo-grid img:hover {
           opacity: 1;
           filter: grayscale(0%) brightness(1); /* Full color on hover */
        }
        /* Basic prose styling for Gemini output */
        .prose { color: #d1d5db; line-height: 1.6; }
        .prose strong, .prose b { color: #fff; font-weight: 600; }
        .prose ul { list-style-type: disc; margin-left: 1.5rem; margin-top: 0.5rem; margin-bottom: 0.5rem; }
        .prose li { margin-bottom: 0.25rem; }
        .prose p { margin-bottom: 1rem; }
         .prose p:last-child { margin-bottom: 0; } /* Remove bottom margin on last paragraph */
    </style>
</head>
<body class="antialiased text-gray-300">

    <header id="header" class="bg-gray-950/70 backdrop-blur-lg sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <a href="#home" class="text-2xl font-bold tracking-wider flex items-baseline">
                        <span class="gradient-text">g9</span><span class="text-white">it</span><span class="text-gray-400 text-lg">.com</span>
                    </a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#services" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Services</a>
                        <a href="#products" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Products</a>
                        <a href="#about" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">About</a>
                        <a href="#contact" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Contact</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-white">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#services" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Services</a>
                    <a href="#products" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Products</a>
                    <a href="#about" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">About</a>
                    <a href="#contact" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="home" class="hero-section py-24 md:py-40 fade-in-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight leading-tight">
                    <span class="gradient-text">Expert Cybersecurity Meets Generative AI</span>
                </h1>
                <p class="mt-6 max-w-2xl mx-auto text-lg md:text-xl text-gray-400">
                    vCISO, Cloud Architecture, and AI Enablement for leaders in technology, finance, and energy.
                </p>
                <div class="mt-10">
                    <a href="https://calendar.app.google/Mzmq7LMMTxe381NW6" target="_blank" rel="noopener noreferrer" class="gradient-button text-white font-semibold px-8 py-4 rounded-lg shadow-lg transition duration-300">
                        Schedule a Discovery Call
                    </a>
                </div>
            </div>
        </section>

        <section id="problems" class="py-20 fade-in-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Navigating Modern Technology's Challenges?</h2>
                    <p class="mt-4 text-lg text-gray-400">Organizations face significant hurdles. You're not alone.</p>
                </div>
                <div class="mt-16 grid gap-8 md:grid-cols-3">
                    <div class="interactive-card text-center rounded-xl p-8">
                        <div class="icon-bg">🧠</div>
                        <h3 class="text-xl font-semibold text-white">Struggling with AI Adoption?</h3>
                        <p class="mt-2 text-gray-400">Worried about security risks, unforeseen costs, and operational challenges of implementing new AI tools.</p>
                    </div>
                    <div class="interactive-card text-center rounded-xl p-8">
                         <div class="icon-bg">🛡️</div>
                        <h3 class="text-xl font-semibold text-white">Facing Compliance Pressure?</h3>
                        <p class="mt-2 text-gray-400">Preparing for critical audits like PCI, HIPAA, or NERC CIP is complex, time-consuming, and high-stakes.</p>
                    </div>
                    <div class="interactive-card text-center rounded-xl p-8">
                         <div class="icon-bg">☁️</div>
                        <h3 class="text-xl font-semibold text-white">Is Your Cloud Secure & Optimized?</h3>
                        <p class="mt-2 text-gray-400">Unsure if your AWS or GCP environment is truly secure, cost-effective, and aligned with best practices.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="gemini-explorer" class="py-20 fade-in-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="interactive-card rounded-xl p-8 lg:p-12">
                    <div class="text-center">
                         <h2 class="text-3xl md:text-4xl font-bold text-white">✨ AI Use-Case Explorer</h2>
                         <p class="mt-4 text-lg text-gray-400 max-w-2xl mx-auto">Get instant, AI-powered ideas. Select your industry and department to discover tailored Generative AI opportunities.</p>
                    </div>
                    <div class="mt-8 max-w-2xl mx-auto grid sm:grid-cols-2 gap-4">
                        <div>
                            <label for="industry" class="block text-sm font-medium text-gray-300">Industry</label>
                            <select id="industry" name="industry" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-700 bg-gray-800 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                                <option>Finance</option>
                                <option>Healthcare</option>
                                <option>Energy</option>
                                <option>Retail & E-commerce</option>
                                <option>Manufacturing</option>
                                <option>Technology (SaaS)</option>
                                <option>Media & Entertainment</option>
                                <option>Telecommunications</option>
                                <option>Education</option>
                                <option>Government</option>
                                <option>Transportation & Logistics</option>
                                <option>Hospitality</option>
                            </select>
                        </div>
                        <div>
                            <label for="department" class="block text-sm font-medium text-gray-300">Department</label>
                            <select id="department" name="department" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-700 bg-gray-800 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                                <option>Customer Support</option>
                                <option>Operations</option>
                                <option>Sales & Marketing</option>
                                <option>Human Resources (HR)</option>
                                <option>Legal & Compliance</option>
                                <option>Finance & Accounting</option>
                                <option>Information Technology (IT)</option>
                                <option>Research & Development (R&D)</option>
                                <option>Product Management</option>
                                <option>Supply Chain</option>
                            </select>
                        </div>
                    </div>
                     <div class="mt-6 text-center">
                        <button id="generate-use-cases" class="gradient-button text-white font-semibold px-6 py-3 rounded-lg shadow-lg transition duration-300 inline-flex items-center">Discover AI Opportunities</button>
                    </div>
                    <div id="use-case-results" class="mt-8"></div>
                </div>
            </div>
        </section>

        <section id="threat-briefing" class="py-20 fade-in-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="interactive-card rounded-xl p-8 lg:p-12">
                    <div class="text-center">
                         <h2 class="text-3xl md:text-4xl font-bold text-white">✨ Live Threat Briefing</h2>
                         <p class="mt-4 text-lg text-gray-400 max-w-2xl mx-auto">Get a real-time summary of the top cybersecurity threats for your industry, powered by Gemini and Google Search.</p>
                    </div>
                    <div class="mt-8 max-w-md mx-auto">
                        <div>
                            <label for="threat-industry" class="block text-sm font-medium text-gray-300">Select Industry</label>
                            <select id="threat-industry" name="threat-industry" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-700 bg-gray-800 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                                <option>Financial Services</option>
                                <option>Healthcare</option>
                                <option>Energy Sector</option>
                                <option>Retail & E-commerce</option>
                                <option>Manufacturing</option>
                                <option>Technology (SaaS)</option>
                                <option>Media & Entertainment</option>
                                <option>Telecommunications</option>
                                <option>Education</option>
                                <option>Government</option>
                                <option>Transportation & Logistics</option>
                                <option>Hospitality</option>
                            </select>
                        </div>
                    </div>
                     <div class="mt-6 text-center">
                        <button id="get-threat-briefing" class="gradient-button text-white font-semibold px-6 py-3 rounded-lg shadow-lg transition duration-300 inline-flex items-center">Get Threat Briefing</button>
                    </div>
                    <div id="threat-briefing-results" class="mt-8 max-w-3xl mx-auto"></div>
                </div>
            </div>
        </section>

        <section id="value-prop" class="py-20 bg-black text-white fade-in-section relative">
             <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1555949963-ff980e87585b?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');"></div>
             <div class="absolute inset-0 bg-gray-950/80"></div>
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center relative">
                <h2 class="text-3xl md:text-4xl font-bold">Deep Expertise in Both Worlds</h2>
                <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-300">
                    With a distinguished career in security engineering and a specialization in Generative AI from AWS, I offer a rare perspective that connects your most critical priorities: robust security and strategic innovation. I don't just advise; I build secure, compliant, and efficient systems.
                </p>
            </div>
        </section>

        <section id="services" class="py-20 fade-in-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">A Unified Approach to Your Business Needs</h2>
                    <p class="mt-4 text-lg text-gray-400">Explore my comprehensive service offerings designed for your specific challenges.</p>
                </div>
                <div id="services-container" class="mt-16 max-w-4xl mx-auto"></div>
            </div>
        </section>

        <section id="products" class="py-20 bg-gray-900 fade-in-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Products & Solutions</h2>
                    <p class="mt-4 text-lg text-gray-400">Explore ready-to-deploy solutions and frameworks.</p>
                </div>
                <div class="mt-16 grid gap-8 md:grid-cols-2">
                    <div class="interactive-card rounded-xl p-8 text-center">
                        <div class="icon-bg">🔒</div>
                        <h3 class="text-2xl font-bold gradient-text">Private LLM Deployment</h3>
                        <p class="mt-4 text-gray-400">Gain complete control over your AI. We architect and deploy a private, secure Large Language Model environment for your organization. Your data stays yours—never used for external training. Integrate your own proprietary models and safety guardrails.</p>
                        <a href="#contact" class="mt-6 inline-block font-semibold text-blue-400 hover:text-blue-300">Learn More &rarr;</a>
                    </div>
                    <div class="interactive-card rounded-xl p-8 text-center">
                        <div class="icon-bg">🌐</div>
                        <h3 class="text-2xl font-bold gradient-text">Secure Traffic Analysis VPN</h3>
                        <p class="mt-4 text-gray-400">A managed VPN service that routes all your traffic through a secure inspection point. Receive detailed weekly or monthly reports highlighting suspicious activity, denied attacks, and malicious domains, giving you full visibility into your threat landscape.</p>
                        <a href="#contact" class="mt-6 inline-block font-semibold text-blue-400 hover:text-blue-300">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="trust" class="py-20 bg-gray-900 fade-in-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Trusted Expertise in Leading Platforms</h2>
                    <p class="mt-4 text-lg text-gray-400">Experienced with the technologies that power your business.</p>
                </div>
                <div class="grid grid-cols-3 gap-8 logo-grid items-center max-w-3xl mx-auto">
                    <img src="/images/aws-logo.png" alt="AWS Logo" class="mx-auto" />
                    <img src="/images/gcp-logo.svg" alt="Google Cloud Logo" class="mx-auto" />
                    <img src="/images/azure-logo.png" alt="Microsoft Azure Logo" class="mx-auto" />
                </div>
                 <div class="text-center mt-16 mb-12">
                    <h3 class="text-2xl font-bold text-white">AI Platforms & Models</h3>
                </div>
                 <div class="grid grid-cols-3 gap-8 logo-grid items-center max-w-3xl mx-auto">
                    <img src="/images/openai-logo.svg" alt="OpenAI Logo" class="mx-auto" />
                    <img src="/images/gemini-logo.svg" alt="Google Gemini Logo" class="mx-auto" />
                    <img src="/images/anthropic-logo.svg" alt="Anthropic Logo" class="mx-auto" />
                </div>
            </div>
        </section>

        <section id="about" class="py-20 fade-in-section relative">
             <div class="absolute inset-0 bg-cover bg-center opacity-10" style="background-image: url('https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');"></div>
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative">
                <div class="grid md:grid-cols-3 gap-12 items-center">
                    <div class="md:col-span-1">
                        <img src="/images/profile-pic.jpg" alt="Professional headshot" class="w-48 h-48 mx-auto rounded-full object-cover border-4 border-gray-700">
                    </div>
                    <div class="md:col-span-2">
                        <h2 class="text-3xl md:text-4xl font-bold text-white">The Strategist Behind the Systems</h2>
                        <p class="mt-4 text-gray-400">My journey began in the trenches of security engineering, building and defending critical infrastructure. This foundational experience gave me a deep appreciation for the discipline required to create truly resilient systems.</p>
                        <p class="mt-4 text-gray-400">Recognizing the transformative power of artificial intelligence, I pursued a specialization in Generative AI with AWS. This wasn't just a career pivot; it was an evolution, driven by the need to address the market's most significant new challenge: innovating with AI without compromising on security.</p>
                        <p class="mt-4 text-gray-400">My philosophy is simple: security should be an enabler, not a blocker. I believe the best solutions are born from a holistic understanding of both technology and risk, allowing organizations to push boundaries with confidence.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-20 bg-gray-900 fade-in-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                 <h2 class="text-3xl md:text-4xl font-bold text-white">Ready to Build a More Secure, Intelligent Future?</h2>
                 <p class="mt-4 text-lg text-gray-400 max-w-2xl mx-auto">Let's discuss your unique challenges and goals. Schedule a complimentary discovery call to explore how we can work together.</p>
                 <div class="mt-10">
                    <a href="https://calendar.app.google/Mzmq7LMMTxe381NW6" target="_blank" rel="noopener noreferrer" class="gradient-button text-white font-semibold px-8 py-4 rounded-lg shadow-lg transition duration-300 text-lg">
                        Schedule Your Discovery Call
                    </a>
                    <p class="mt-6 text-gray-400">Or email me directly at <a href="mailto:info@g9it.com" class="text-blue-400 font-medium hover:text-blue-300">info@g9it.com</a></p>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="bg-black text-white">
        <div class="container mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2025 g9it.com Consulting. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const servicesData = { /* Omitted for brevity */ };
             async function callGemini(prompt, button, useGrounding = false, systemInstruction = null) { /* Omitted for brevity */ }
            function renderServices() { /* Omitted for brevity */ }
            function formatCeoSummary(text) { /* Omitted for brevity */ }

            function attachEventListeners() {
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                    mobileMenuButton.querySelectorAll('svg').forEach(s => s.classList.toggle('hidden'));
                });

                 document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                         e.preventDefault();
                         document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                        if(!mobileMenu.classList.contains('hidden')) {
                             mobileMenu.classList.add('hidden');
                             mobileMenuButton.querySelectorAll('svg').forEach(s => s.classList.toggle('hidden'));
                        }
                    });
                });

                const sections = document.querySelectorAll('.fade-in-section');
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });
                sections.forEach(section => observer.observe(section));
                
                renderServices(); // Call render first

                // Attach listeners after rendering services
                const serviceTabs = document.querySelectorAll('.service-tab');
                const tabContents = document.querySelectorAll('.tab-content');

                serviceTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        const target = tab.dataset.tab;
                        serviceTabs.forEach(t => {
                            t.classList.remove('tab-active', 'text-white');
                            t.classList.add('text-gray-500');
                        });
                        tab.classList.add('tab-active', 'text-white');
                        tab.classList.remove('text-gray-500');
                        tabContents.forEach(content => content.classList.add('hidden'));
                        document.getElementById(`${target}-content`).classList.remove('hidden');
                    });
                });

                const accordionButtons = document.querySelectorAll('.accordion-button');
                accordionButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const content = button.nextElementSibling;
                        const wasOpen = content.classList.contains('open');
                        document.querySelectorAll('.accordion-content.open').forEach(openContent => {
                            if (openContent !== content) {
                                openContent.classList.remove('open');
                                openContent.previousElementSibling.classList.remove('open');
                            }
                        });
                        if (!wasOpen) {
                            content.classList.add('open');
                            button.classList.add('open');
                        } else {
                            content.classList.remove('open');
                            button.classList.remove('open');
                        }
                    });
                });

                document.querySelectorAll('.explain-to-ceo-btn').forEach(button => {
                    button.addEventListener('click', async (e) => {
                         const contentDiv = button.closest('.accordion-content');
                         // Ensure contentDiv exists
                         if (!contentDiv) { console.error("Could not find parent accordion content."); return; }
                         const wrapper = contentDiv.querySelector('.service-content-wrapper');
                         // Ensure wrapper exists
                         if (!wrapper) { console.error("Could not find service content wrapper."); return; }

                        const { serviceName, description, deliverables } = wrapper.dataset;
                        const deliverablesList = deliverables.split(',').map(item => `<li class="flex items-start"><span class="text-blue-400 mr-2 mt-1">&#10003;</span><span>${item.trim()}</span></li>`).join('');

                        if (wrapper.dataset.isCeoView === 'true') {
                            wrapper.innerHTML = `<div><h4 class="font-semibold text-white mb-2">What It Is</h4><p class="text-gray-400 text-sm">${description}</p></div><div><h4 class="font-semibold text-white mb-2">Key Deliverables</h4><ul class="text-gray-400 text-sm space-y-2">${deliverablesList}</ul></div>`;
                            wrapper.dataset.isCeoView = 'false';
                            button.innerHTML = '✨ Explain to a CEO';
                        } else {
                            // Updated Prompt for CEO explanation with specific formatting instructions
                            const prompt = `You are a business strategy consultant. Rephrase the following technical service description for a non-technical CEO. Focus on business outcomes, risk reduction, and ROI. Be concise. Provide a short paragraph summary first. Then, list the key business takeaways/benefits using standard bullet points (start each bullet point line with '* ' or '- '). Do NOT use any markdown headings like '#'. Service Name: "${serviceName}". Description: "${description}". Deliverables: "${deliverables}".`;
                            const rawCeoSummary = await callGemini(prompt, button);
                            
                            if (rawCeoSummary.startsWith("Sorry,") || rawCeoSummary.startsWith("Server Error")) {
                                wrapper.innerHTML = `<div class="md:col-span-2"><p class="text-red-400 text-sm">${rawCeoSummary}</p></div>`;
                            } else {
                                // Apply enhanced formatting
                                const formattedHtml = formatCeoSummary(rawCeoSummary);
                                wrapper.innerHTML = `<div class="md:col-span-2 prose prose-sm prose-invert max-w-none text-gray-300">${formattedHtml}</div>`;
                            }
                            
                            wrapper.dataset.isCeoView = 'true';
                            button.innerHTML = 'Show Technical Details';
                        }
                    });
                });

                // Updated Use Case Explorer Listener 
                const generateButton = document.getElementById('generate-use-cases');
                if (generateButton) {
                    const resultsContainer = document.getElementById('use-case-results');
                    generateButton.addEventListener('click', async () => {
                        const industry = document.getElementById('industry').value;
                        const department = document.getElementById('department').value;
                        const prompt = `Act as an expert business and technology consultant. Generate 3 distinct and actionable use cases for Generative AI for the ${department} department in the ${industry} industry. For each use case, provide a title, a brief description of the business problem, and a proposed AI solution. Format the entire response as a single JSON array of objects, where each object has "title", "problem", and "solution" keys. Ensure the output starts directly with '[' and ends directly with ']'. Do not include any introductory text, backticks, or markdown formatting around the JSON array.`;
                        resultsContainer.innerHTML = '<div class="flex justify-center"><div class="gemini-spinner" style="width: 32px; height: 32px;"></div></div>';
                        const rawResponseText = await callGemini(prompt, generateButton);
                        try {
                            if (rawResponseText.startsWith("Sorry,") || rawResponseText.startsWith("Server Error")) { throw new Error(rawResponseText); }
                            const jsonMatch = rawResponseText.match(/\[.*\]/s); 
                            if (!jsonMatch) { throw new Error("Could not find valid JSON array in the response."); }
                            const jsonString = jsonMatch[0];
                            const useCases = JSON.parse(jsonString); 
                            let html = '<div class="grid md:grid-cols-1 lg:grid-cols-3 gap-6 mt-4">';
                            useCases.forEach(uc => {
                                html += `<div class="interactive-card rounded-lg p-6 border border-gray-700"><h4 class="font-bold text-lg text-white">${uc.title}</h4><p class="text-sm text-gray-400 mt-2"><strong class="text-gray-300">Problem:</strong> ${uc.problem}</p><p class="text-sm text-gray-400 mt-2"><strong class="text-gray-300">AI Solution:</strong> ${uc.solution}</p></div>`;
                            });
                            html += '</div>';
                            resultsContainer.innerHTML = html;
                        } catch (error) {
                             console.error("Error processing use cases:", error, "Raw response:", rawResponseText);
                             let displayError = "Sorry, we couldn't generate use cases at this time.";
                             if (error.message && (error.message.includes("JSON") || error.message.includes("Could not find"))) { displayError += " The AI returned an unexpected format."; } 
                             else if (error.message && error.message.startsWith("Server Error")){ displayError = error.message; } 
                             else if (typeof error.message === 'string' && error.message.startsWith("Sorry,")) { displayError = error.message; } // Use error message if it's from callGemini
                            resultsContainer.innerHTML = `<p class="text-center text-red-400">${displayError}</p>`;
                        }
                    });
                }
                
                // Updated Threat Briefing Listener
                const getThreatBriefingBtn = document.getElementById('get-threat-briefing');
                if(getThreatBriefingBtn) {
                    const resultsContainer = document.getElementById('threat-briefing-results');
                    getThreatBriefingBtn.addEventListener('click', async () => {
                        const industry = document.getElementById('threat-industry').value;
                        // Updated prompt for better formatting
                        const prompt = `Act as a world-class cybersecurity threat analyst. Provide a concise, up-to-the-minute briefing on the top 3 most critical cybersecurity threats currently facing the ${industry} industry. Use Google Search to find the latest information. For each threat, provide a title using bold text (use **Title** format) followed by a standard paragraph explaining the threat and its potential business impact. Use standard paragraph breaks between each threat. Do NOT use any markdown heading syntax like '#'.`;
                        resultsContainer.innerHTML = '<div class="flex justify-center"><div class="gemini-spinner" style="width: 32px; height: 32px;"></div></div>';
                        const responseText = await callGemini(prompt, getThreatBriefingBtn, true);
                         if (responseText.startsWith("Sorry,") || responseText.startsWith("Server Error")) {
                             resultsContainer.innerHTML = `<p class="text-center text-red-400">${responseText}</p>`;
                         } else {
                            // Convert markdown bold to strong tags and handle paragraph breaks
                            let formattedText = responseText.replace(/\*\*(.*?)\*\*/g, '<strong class="text-white block mb-2 text-lg">$1</strong>') // Make titles block and slightly larger
                                                         .replace(/\n\s*\n/g, '</p><p class="mt-4">') // Handle double line breaks as paragraph breaks
                                                         .replace(/\n/g, '<br>'); // Handle single line breaks within paragraphs
                            // Ensure the whole output is wrapped in a paragraph tag for consistent styling if needed
                            resultsContainer.innerHTML = `<div class="prose prose-sm prose-invert max-w-none text-gray-300"><p>${formattedText}</p></div>`; 
                         }
                    });
                }

                // Guardrail Simulator Listener
                const testGuardrailBtn = document.getElementById('test-guardrail');
                 // Ensure the button exists before adding listener
                 if(testGuardrailBtn){
                    const resultContainer = document.getElementById('guardrail-result');
                    const promptInput = document.getElementById('guardrail-prompt');
                    testGuardrailBtn.addEventListener('click', async () => {
                        const userPrompt = promptInput.value;
                        if(!userPrompt) return;
                        const systemInstruction = "You are an AI assistant for g9it.com. You must adhere to a strict safety policy. Politely refuse any request that is malicious, unethical, illegal, or promotes harmful activities. Do not provide instructions, code, or details for such requests. Instead, state that you cannot fulfill the request due to safety policies and, if appropriate, explain the potential harm of the requested action in a single sentence.";
                        resultContainer.classList.remove('hidden');
                        resultContainer.innerHTML = '<div class="flex justify-center"><div class="gemini-spinner"></div></div>';
                        const responseText = await callGemini(userPrompt, testGuardrailBtn, false, systemInstruction);
                         if (responseText.startsWith("Sorry,") || responseText.startsWith("Server Error")) {
                             resultContainer.innerHTML = `<p class="text-red-400">${responseText}</p>`;
                         } else {
                            resultContainer.innerHTML = responseText;
                         }
                    });
                 }
            }
            
            attachEventListeners();
        });
    </script>
    
    <!-- Add Your Live Chat Snippet Here -->
    <script type="text/javascript">
      // Example for Crisp Chat - Replace YOUR_CRISP_WEBSITE_ID with your actual ID
      // window.$crisp=[];
      // window.CRISP_WEBSITE_ID="YOUR_CRISP_WEBSITE_ID";
      // (function(){d=document;s=d.createElement("script");s.src="https://client.crisp.chat/l.js";s.async=1;d.getElementsByTagName("head")[0].appendChild(s);})();
    </script>
</body>
</html>

